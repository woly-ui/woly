import {Button} from 'ui'
import {Playground, StateEvent,FormBlock} from 'lib/playground';
import {IconPlus} from 'static/icons';
import {ButtonUploader} from './index';

# Upload Button

Simple upload button. To upload files, click on a button, choose files in an opened dialog window.
To set file types, you should set the 'accept' property.

### Example

<Playground>
  <StateEvent initial={[]} change={(files) => files}>
    {(files, change) => (
      <div style={{ display: 'flex' }}>
        <ButtonUploader
          text="Upload files"
          icon={<IconPlus />}
          priority="primary"
          onChange={change}
        />
        <div style={{ padding: '0 10px' }}>
          {files.map((file) => (
            <div key={file.name}>{file.name}</div>
          ))}
        </div>
      </div>
    )}
  </StateEvent>
</Playground>

### Disabled upload button

<Playground>
  <StateEvent initial={[]} change={(files) => files}>
    {(files, change) => (
      <ButtonUploader
        text="You can't upload files"
        icon={<IconPlus />}
        onChange={change}
        priority="primary"
        disabled
      />
    )}
  </StateEvent>
</Playground>

### Props

| Name        | Type                                                                                               | Default       | Description                                                                                                            |
| ----------- | -------------------------------------------------------------------------------------------------- | ------------- | ---------------------------------------------------------------------------------------------------------------------- |
| `accept`    | `string ”è string[]`                                                                                |               | File extensions that are accepted to load                                                                              |
| `disabled`  | `boolean`                                                                                          | `false`       | Enable/disable upload button                                                                                           |
| `icon`      | `React.ReactNode`                                                                                  |               | Button icon                                                                                                            |
| `maxFiles`  | `number`                                                                                           | `0`           | Max number of files to load. The default value is 0 which means there is no limitation to how many files are accepted. |
| `maxSize`   | `number`                                                                                           | `Infinity`    | Max file size (in bytes)                                                                                               |
| `multiple`  | `boolean`                                                                                          | `false`       | allow add multiple files                                                                                               |
| `onChange`  | `<T extends File>(acceptedFiles: T[], fileRejections: FileRejection[], event: DropEvent) => void;` |               | Callback for change event                                                                                              |
| `outlined`  | `boolean`                                                                                          | `false`       | Set button to be outlined                                                                                              |
| `priority`  | `string`                                                                                           | `'secondary'` | Priority prop to style upload area                                                                                     |
| `text`      | `string`                                                                                           |               | Button text                                                                                                            |
| `validator` | `<T extends File>(file: T) => FileError \| FileError[] \| null;`                                   |               | Fn that validate loaded files                                                                                          |
